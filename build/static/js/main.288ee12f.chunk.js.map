{"version":3,"sources":["components/Searchbar/Searchbar.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Spinner/Spinner.module.css","components/Searchbar/Searchbar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","services/api.js","components/Button/Button.jsx","js/scroll.js","components/Spinner/Spinner.jsx","components/Modal/Modal.jsx","components/App/App.js","index.js"],"names":["module","exports","Searchbar","state","query","handleChange","e","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","trim","props","onSubmit","toast","error","className","s","searchbar","this","form","type","button","buttonLabel","name","input","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","onClick","image","imageGalleryItem","imageGalleryItemimg","src","webformatURL","alt","tags","largeImageURL","ImageGallery","openModal","images","getImageModal","gallery","map","id","getImageApi","page","axios","get","then","response","data","hits","Promise","resolve","Button","btn","scrollPageDown","window","scrollTo","top","document","documentElement","scrollHeight","behavior","Spinner","containerLoader","color","height","width","modalRoot","querySelector","Modal","handleKeyDown","code","onClose","handleBackdropClick","target","addEventListener","removeEventListener","createPortal","overlay","modal","largeImageUrl","App","modalContent","showModal","loading","pageIncrement","handleFormSubmit","console","log","toggleModal","prevProps","prevState","getImage","res","finally","catch","length","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"wIACAA,EAAOC,QAAU,CAAC,UAAY,6BAA6B,KAAO,wBAAwB,oBAAoB,qCAAqC,0BAA0B,2CAA2C,MAAQ,2B,mBCAhOD,EAAOC,QAAU,CAAC,iBAAmB,2CAA2C,oBAAsB,gD,mBCAtGD,EAAOC,QAAU,CAAC,QAAU,uBAAuB,MAAQ,uB,mBCA3DD,EAAOC,QAAU,CAAC,QAAU,gC,mBCA5BD,EAAOC,QAAU,CAAC,IAAM,oBAAoB,OAAS,uBAAuB,OAAS,yB,mBCArFD,EAAOC,QAAU,CAAC,gBAAkB,mC,gNCI9BC,E,4MACJC,MAAQ,CACNC,MAAO,I,EAGTC,aAAe,SAAAC,GACb,EAAKC,SAAS,CAAEH,MAAOE,EAAEE,cAAcC,MAAMC,iB,EAG/CC,aAAe,SAAAL,GACbA,EAAEM,iBACG,EAAKT,MAAMC,MAAMS,QAKtB,EAAKC,MAAMC,SAAS,EAAKZ,MAAMC,OAC/B,EAAKG,SAAS,CAAEH,MAAO,MALrBY,IAAMC,MAAM,qB,4CAOhB,WACE,OACE,wBAAQC,UAAWC,IAAEC,UAArB,SACE,uBAAML,SAAUM,KAAKV,aAAcO,UAAWC,IAAEG,KAAhD,UACE,wBAAQC,KAAK,SAASL,UAAWC,IAAEK,OAAnC,SACE,sBAAMN,UAAWC,IAAEM,YAAnB,sBAGF,uBACEC,KAAK,QACLR,UAAWC,IAAEQ,MACbJ,KAAK,OACLK,aAAa,MACbC,WAAS,EACTC,YAAY,2BACZrB,MAAOY,KAAKlB,MAAMC,MAClB2B,SAAUV,KAAKhB,wB,GAnCH2B,aA0CT9B,I,iBCvBA+B,MApBf,YAA+C,IAAnBC,EAAkB,EAAlBA,QAASC,EAAS,EAATA,MACnC,OACE,oBAAIjB,UAAWC,IAAEiB,iBAAjB,SACE,qBACElB,UAAWC,IAAEkB,oBACbC,IAAKH,EAAMI,aACXC,IAAKL,EAAMM,KACXP,QAAS,WACPA,EAAQC,EAAMO,qB,iBCSTC,EAhBM,SAAC,GAA0C,IAAxCC,EAAuC,EAAvCA,UAAWC,EAA4B,EAA5BA,OAAQC,EAAoB,EAApBA,cACzC,OACE,oBAAI5B,UAAWC,IAAE4B,QAASb,QAASU,EAAnC,SACGC,EAAOG,KAAI,SAAAb,GACV,OAAO,cAAC,EAAD,CAAkBA,MAAOA,EAAOD,QAASY,GAAoBX,EAAMc,U,iBCOnEC,MATf,SAAqB9C,EAAO+C,GAC1B,OAAK/C,EAGEgD,IACJC,IADI,UARQ,2BAQR,cACiBjD,EADjB,iBAC+B+C,EAD/B,gBATO,qCASP,yDAEJG,MAAK,SAAAC,GAAQ,OAAIA,EAASC,KAAKC,QAJzBC,QAAQC,QAAQ,K,iBCKZC,EAVA,SAAC,GAAD,IAAG1B,EAAH,EAAGA,QAAH,OACb,wBAAQhB,UAAWC,IAAE0C,IAAK3B,QAASA,EAAnC,wBCEa4B,MAPf,WACEC,OAAOC,SAAS,CACdC,IAAKC,SAASC,gBAAgBC,aAC9BC,SAAU,Y,0CCQCC,EAPC,WACd,OACE,qBAAKpD,UAAWC,IAAEoD,gBAAlB,SACE,cAAC,IAAD,CAAQhD,KAAK,QAAQiD,MAAM,UAAUC,OAAQ,GAAIC,MAAO,Q,iBCFxDC,EAAYT,SAASU,cAAc,eAEnCC,E,4MAUJC,cAAgB,SAAAxE,GACC,WAAXA,EAAEyE,MACJ,EAAKjE,MAAMkE,W,EAIfC,oBAAsB,SAAA3E,GAChBA,EAAEE,gBAAkBF,EAAE4E,QACxB,EAAKpE,MAAMkE,W,uDAZf,WACEjB,OAAOoB,iBAAiB,UAAW9D,KAAKyD,iB,kCAe1C,WACEf,OAAOqB,oBAAoB,UAAW/D,KAAKyD,iB,oBAE7C,WACE,OAAOO,uBACL,qBAAKnE,UAAWC,IAAEmE,QAASpD,QAASb,KAAK4D,oBAAzC,SACE,qBAAK/D,UAAWC,IAAEoE,MAAlB,SACE,qBAAKjD,IAAKjB,KAAKP,MAAM0E,cAAehD,IAAKnB,KAAKP,MAAM2B,WAGxDkC,O,GAhCc3C,aAoCL6C,IC5BTY,E,4MACJtF,MAAQ,CACNC,MAAO,GACP+C,KAAM,EACNN,OAAQ,GACR6C,aAAc,GACdC,WAAW,EACXC,SAAS,G,EA6BXC,cAAgB,WACd,EAAKtF,SAAS,CAAE4C,KAAM,EAAKhD,MAAMgD,KAAO,K,EAG1C2C,iBAAmB,SAAA1F,GACjB,EAAKG,SAAS,CAAEH,W,EAGlB0C,cAAgB,SAAAJ,GACdqD,QAAQC,IAAItD,GACZ,EAAKnC,SAAS,CAAEmF,aAAchD,K,EAGhCuD,YAAc,WACZF,QAAQC,IAAI,EAAK7F,MAAMuF,cACvB,EAAKnF,UAAS,kBAAoB,CAChCoF,WADY,EAAGA,e,wDAzCnB,SAAmBO,EAAWC,GACxBA,EAAU/F,QAAUiB,KAAKlB,MAAMC,QACjCiB,KAAKd,SAAS,CAAEsC,OAAQ,GAAIM,KAAM,IAClC9B,KAAK+E,YAGHD,EAAUhD,OAAS9B,KAAKlB,MAAMgD,MAChC9B,KAAK+E,a,sBAIT,WAAY,IAAD,OACT/E,KAAKd,SAAS,CAAEqF,SAAS,IACzB1C,EAAY7B,KAAKlB,MAAMC,MAAOiB,KAAKlB,MAAMgD,MACtCG,MAAK,SAAA+C,GACJvC,IACA,EAAKvD,SAAS,CAAEsC,OAAO,GAAD,mBAAM,EAAK1C,MAAM0C,QAAjB,YAA4BwD,SAEnDC,SAAQ,WACP,EAAK/F,SAAS,CAAEqF,SAAS,OAE1BW,OAAM,WACLvF,IAAMC,MAAM,qB,oBAwBlB,WACE,MAAqDI,KAAKlB,MAAlD0C,EAAR,EAAQA,OAAQ+C,EAAhB,EAAgBA,QAASD,EAAzB,EAAyBA,UAAWD,EAApC,EAAoCA,aACpC,OACE,sBAAKxE,UAAU,MAAf,UACE,cAAC,EAAD,CAAWH,SAAUM,KAAKyE,mBACP,IAAlBjD,EAAO2D,QACN,cAAC,EAAD,CAAc3D,OAAQA,EAAQC,cAAezB,KAAKyB,cAAeF,UAAWvB,KAAK4E,cAElFN,GAAa,cAAC,EAAD,CAAOH,cAAeE,EAAcV,QAAS3D,KAAK4E,cAC/DL,GAAW,cAAC,EAAD,IACX/C,EAAO2D,OAAS,GAAK,cAAC,EAAD,CAAQtE,QAASb,KAAKwE,gBAE5C,cAAC,IAAD,CAAgBY,UAAW,a,GApEjBzE,aAyEHyD,ICnFfiB,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEF1C,SAAS2C,eAAe,W","file":"static/js/main.288ee12f.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__jo466\",\"form\":\"Searchbar_form__XuKjc\",\"SearchForm-button\":\"Searchbar_SearchForm-button__3u-rY\",\"SearchForm-button-label\":\"Searchbar_SearchForm-button-label__2bzU3\",\"input\":\"Searchbar_input__2C4aO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGalleryItem\":\"ImageGalleryItem_imageGalleryItem__1LEDw\",\"imageGalleryItemimg\":\"ImageGalleryItem_imageGalleryItemimg__3CdaQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__2GjdW\",\"modal\":\"Modal_modal__P3_V5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"ImageGallery_gallery__gboaM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btn\":\"Button_btn__3xaJM\",\"Button\":\"Button_Button__3R1xi\",\"hidden\":\"Button_hidden__3EsLl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"containerLoader\":\"Spinner_containerLoader__1lEzy\"};","import { Component } from 'react';\nimport { toast } from 'react-toastify';\nimport s from './Searchbar.module.css';\nimport 'react-toastify/dist/ReactToastify.css';\n\nclass Searchbar extends Component {\n  state = {\n    query: '',\n  };\n\n  handleChange = e => {\n    this.setState({ query: e.currentTarget.value.toLowerCase() });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n    if (!this.state.query.trim()) {\n      toast.error('Put name picture');\n      return;\n    }\n\n    this.props.onSubmit(this.state.query);\n    this.setState({ query: '' });\n  };\n  render() {\n    return (\n      <header className={s.searchbar}>\n        <form onSubmit={this.handleSubmit} className={s.form}>\n          <button type=\"submit\" className={s.button}>\n            <span className={s.buttonLabel}>Search</span>\n          </button>\n\n          <input\n            name=\"query\"\n            className={s.input}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            value={this.state.query}\n            onChange={this.handleChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\nexport default Searchbar;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport s from './ImageGalleryItem.module.css';\n\nfunction ImageGalleryItem({ onClick, image }) {\n  return (\n    <li className={s.imageGalleryItem}>\n      <img\n        className={s.imageGalleryItemimg}\n        src={image.webformatURL}\n        alt={image.tags}\n        onClick={() => {\n          onClick(image.largeImageURL);\n        }}\n      />\n    </li>\n  );\n}\n\nImageGalleryItem.propTypes = {\n  image: PropTypes.object,\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default ImageGalleryItem;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\nimport s from './ImageGallery.module.css';\n\nconst ImageGallery = ({ openModal, images, getImageModal }) => {\n  return (\n    <ul className={s.gallery} onClick={openModal}>\n      {images.map(image => {\n        return <ImageGalleryItem image={image} onClick={getImageModal} key={image.id} />;\n      })}\n    </ul>\n  );\n};\n\nImageGallery.propTypes = {\n  images: PropTypes.array,\n  openModal: PropTypes.func.isRequired,\n  getImageModal: PropTypes.func,\n};\n\nexport default ImageGallery;\n","import axios from 'axios';\n\nconst API_KEY = '23543549-635b4a8d9e20c5ded331689b0';\nconst BASE_URL = 'https://pixabay.com/api/';\n\n// toast.configure();\n\nfunction getImageApi(query, page) {\n  if (!query) {\n    return Promise.resolve([]);\n  }\n  return axios\n    .get(`${BASE_URL}?q=${query}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`)\n    .then(response => response.data.hits);\n}\n\nexport default getImageApi;\n","import React from 'react';\nimport s from './Button.module.css';\nimport PropTypes from 'prop-types';\n\nconst Button = ({ onClick }) => (\n  <button className={s.btn} onClick={onClick}>\n    Load more\n  </button>\n);\n\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","function scrollPageDown() {\n  window.scrollTo({\n    top: document.documentElement.scrollHeight,\n    behavior: 'smooth',\n  });\n}\n\nexport default scrollPageDown;\n","import Loader from 'react-loader-spinner';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport s from './Spinner.module.css';\n\nconst Spinner = () => {\n  return (\n    <div className={s.containerLoader}>\n      <Loader type=\"Rings\" color=\"#3f51b5\" height={80} width={80} />\n    </div>\n  );\n};\nexport default Spinner;\n","import React, { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport PropTypes from 'prop-types';\nimport s from './Modal.module.css';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nclass Modal extends Component {\n  static propTypes = {\n    largeImageUrl: PropTypes.string.isRequired,\n    tags: PropTypes.string.isRequired,\n  };\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n\n  handleKeyDown = e => {\n    if (e.code === 'Escape') {\n      this.props.onClose();\n    }\n  };\n\n  handleBackdropClick = e => {\n    if (e.currentTarget === e.target) {\n      this.props.onClose();\n    }\n  };\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n  render() {\n    return createPortal(\n      <div className={s.overlay} onClick={this.handleBackdropClick}>\n        <div className={s.modal}>\n          <img src={this.props.largeImageUrl} alt={this.props.tags} />\n        </div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\nexport default Modal;\n","import { Component } from 'react';\nimport './App.css';\nimport { ToastContainer } from 'react-toastify';\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport 'react-toastify/dist/ReactToastify.css';\nimport Searchbar from '../Searchbar/Searchbar.jsx';\nimport ImageGallery from '../ImageGallery/ImageGallery';\nimport getImageApi from '../../services/api';\nimport Button from '../Button/Button.jsx';\nimport scrollPageDown from '../../js/scroll';\n\nimport Spinner from '../Spinner/Spinner.jsx';\nimport Modal from '../Modal/Modal.jsx';\n\nclass App extends Component {\n  state = {\n    query: '',\n    page: 1,\n    images: [],\n    modalContent: '',\n    showModal: false,\n    loading: false,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.query !== this.state.query) {\n      this.setState({ images: [], page: 1 });\n      this.getImage();\n    }\n\n    if (prevState.page !== this.state.page) {\n      this.getImage();\n    }\n  }\n\n  getImage() {\n    this.setState({ loading: true });\n    getImageApi(this.state.query, this.state.page)\n      .then(res => {\n        scrollPageDown();\n        this.setState({ images: [...this.state.images, ...res] });\n      })\n      .finally(() => {\n        this.setState({ loading: false });\n      })\n      .catch(() => {\n        toast.error('Server error');\n      });\n  }\n\n  pageIncrement = () => {\n    this.setState({ page: this.state.page + 1 });\n  };\n\n  handleFormSubmit = query => {\n    this.setState({ query });\n  };\n\n  getImageModal = largeImageURL => {\n    console.log(largeImageURL);\n    this.setState({ modalContent: largeImageURL });\n  };\n\n  toggleModal = () => {\n    console.log(this.state.modalContent);\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }));\n  };\n\n  render() {\n    const { images, loading, showModal, modalContent } = this.state;\n    return (\n      <div className=\"App\">\n        <Searchbar onSubmit={this.handleFormSubmit} />\n        {images.length !== 0 && (\n          <ImageGallery images={images} getImageModal={this.getImageModal} openModal={this.toggleModal} />\n        )}\n        {showModal && <Modal largeImageUrl={modalContent} onClose={this.toggleModal} />}\n        {loading && <Spinner />}\n        {images.length > 0 && <Button onClick={this.pageIncrement} />}\n\n        <ToastContainer autoClose={3000} />\n      </div>\n    );\n  }\n}\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}